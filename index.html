<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Self-driving car</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap5-toggle@5.0.4/css/bootstrap5-toggle.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="container">
    <div id="leftCol">
      <h3>Watch a neural network evolve</h3>
      <h5>This showcase displays neural networks training in real time.
        <br>Each run, 'n' cars will be generated and attempt to get as far as possible while avoiding the oncoming traffic.
        <br>The brain and all the neuron activations of the best can be seen on the right. Bottom layer is the input neurons 
            (for each sensor) and the top layer is the output.
        <br>You can automate the training, do it manually using the buttons in the middle or import a pre-existing neural network! 
            The guide to explain how to use it properly does not exist, so, happy learning! </h5>
    </div> 
    <div id="carColumn">
      <canvas id="carCanvas"></canvas>
      
    </div>
    <div id="verticalButtons">
        <button onclick="save()">💾</button>
        <button onclick="discard()">🗑️</button>
        <button onclick="reset()">🔄</button>
      </div>
    <canvas id="networkCanvas"></canvas>
    
    <div id="rightCol">
      <h3>Stats and Settings</h3>
      <hr/>
      <h4>Generation : <span id="generationText"> 1 </span></h4>
      <h4>Score : <span id="scoreText"> 0 </span></h4>
      <h4>Best Score : <span id="maxScoreText"> 0 </span></h4>
      <h4>Cars Remaining : <span id="carsRemainingText"> 0 </span></h4>
      <hr>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="automationSwitch">
        <label class="form-check-label" for="automationSwitch">Automate training</label>
      </div>
      <hr>
      <label for="brainLoader" class="form-label">Import a neural network</label>
      <input type="file" id="brainLoader" accept=".json">
      <hr>
      <div class="mb-3">
        <label for="mutationRange" class="form-label">Mutation</label>
        <input type="range" class="form-range" min="0" max="1" step="0.01" id="mutationRange">
        <span id="mutationValue">0.1</span>
      </div>
      <hr>
      <div class="mb-3">
        <label for="carRange" class="form-label">Number of cars</label>
        <input type="range" class="form-range" min="1" max="200" step="1" id="carRange">
        <span id="carValue">100</span>
      </div>
      <hr>
      <div class="mb-3">
        <label for="sensorRange" class="form-label">Number of sensors</label>
        <input type="range" class="form-range" min="2" max="40" step="1" id="sensorRange">
        <span id="sensorValue">8</span>
      </div>
      <hr>
      <div class="mb-3">
        <label for="angleRange" class="form-label">Angle of sensors</label>
        <input type="range" class="form-range" min="30" max="360" step="1" id="angleRange">
        <span id="angleValue">120</span>
      </div>
            
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap5-toggle@5.0.4/js/bootstrap5-toggle.jquery.min.js"></script>
  <script src="visualizer.js"></script>
  <script src="sensor.js"></script>
  <script src="network.js"></script>
  <script src="utils.js"></script>
  <script src="road.js"></script>
  <script src="controls.js"></script>
  <script src="car.js"></script>
  <script src="main.js"></script>
</body>
</html>